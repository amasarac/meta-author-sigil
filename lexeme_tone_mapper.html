<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lexeme Tone Mapper — Cognitive Glass Resonance Map</title>
<style>
  :root{--bg:#07101a; --fg:#e6f3ff; --muted:#8ea9c6; --accent:#7aa2ff}
  html,body{height:100%; margin:0; font-family:Inter, system-ui, Roboto, Arial; background:linear-gradient(180deg,#06121a 0%, #071426 100%); color:var(--fg)}
  .app{display:grid; grid-template-columns:360px 1fr; gap:18px; padding:18px; height:100vh; box-sizing:border-box}
  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); border-radius:12px; padding:12px; box-shadow:0 8px 28px rgba(2,6,23,0.6)}
  h1{font-size:16px; margin:4px 0}
  .small{color:var(--muted); font-size:13px}
  label{font-size:12px; color:var(--muted); display:block; margin-top:8px}
  input, select, button{background:#071826; color:var(--fg); border:1px solid rgba(255,255,255,0.04); padding:8px 10px; border-radius:8px}
  button{cursor:pointer}
  #visWrap{display:flex; flex-direction:column; gap:12px; height:100%}
  #svgVis{width:100%; height:calc(100vh - 120px); border-radius:10px; background:linear-gradient(180deg, rgba(122,162,255,0.03), rgba(101,214,173,0.02));}
  .controls{display:flex; gap:8px; align-items:center; margin-top:8px}
  .nodeLabel{font-size:12px; color:var(--muted)}
  .legend{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
  .pill{padding:6px 8px; border-radius:999px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02); font-size:12px}
  footer{font-size:12px; color:var(--muted); text-align:center; margin-top:8px}
  .row{display:flex; gap:8px; align-items:center}
  @media (max-width:1000px){ .app{grid-template-columns:1fr; } #svgVis{height:50vh} }
</style>
</head>
<body>
  <div class="app">
    <aside class="panel">
      <h1>Lexeme Tone Mapper</h1>
      <div class="small">Unified Resonance Map — Lower Harmonics ↔ THz Lattice</div>

      <label>Search / Lexeme</label>
      <input id="lexInput" placeholder="type a word (e.g., 'Sight')" />

      <label>Map View</label>
      <select id="mapView">
        <option value="unified">Unified Ladder (recommended)</option>
        <option value="lower">Lower Harmonics (Hz–kHz)</option>
        <option value="upper">Upper Lattice (kHz–THz)</option>
      </select>

      <label>Sweep controls</label>
      <div class="row">
        <input id="sStart" type="number" value="32" style="width:100px" />
        <input id="sEnd" type="number" value="1000" style="width:100px" />
      </div>
      <div class="controls">
        <button id="btnSweep">Start Sweep</button>
        <button id="btnSweepStop">Stop</button>
        <button id="btnAutoMark">Auto-Mark Peaks</button>
      </div>

      <label>Play / Listen</label>
      <div class="controls">
        <button id="btnPlayNode">Play Selected Node</button>
        <button id="btnTriad">Play Triad</button>
      </div>

      <label>Selected Node</label>
      <div id="nodeInfo" class="small">none</div>

      <div class="legend">
        <div class="pill">Lower ladder — embodiment (32–1440 Hz)</div>
        <div class="pill">Upper lattice — radiant (kHz → THz)</div>
        <div class="pill">Click nodes to play / mark resonances</div>
      </div>

      <footer>Use headphones. This mapper encodes both audible tones and high-order lattice markers.</footer>
    </aside>

    <main class="panel" id="visWrap">
      <svg id="svgVis" viewBox="0 0 1400 700" preserveAspectRatio="xMidYMid meet"></svg>
      <div class="row" style="justify-content:space-between; align-items:center">
        <div class="small">Drag to pan canvas. Scroll to zoom.</div>
        <div class="small">Resonant nodes: <span id="nodeCount">0</span></div>
      </div>
    </main>
  </div>

<script>
// Unified resonance nodes (lower + upper). You can import a different map via JSON if desired.
const unified = [
  { id:'r32', hz:32, label:'Root (32 Hz)', band:'lower', desc:'Grounding pulse' },
  { id:'r64', hz:64, label:'Breath (64 Hz)', band:'lower', desc:'Rhythmic inhalation/exhale' },
  { id:'r128', hz:128, label:'Coherence (128 Hz)', band:'lower', desc:'Word-seeds form' },
  { id:'r256', hz:256, label:'Bloom (256 Hz)', band:'lower', desc:'Semantic glass forms' },
  { id:'r432', hz:432, label:'Veil-lift (432 Hz)', band:'lower', desc:'Clarity — mind’s eye brightens' },
  { id:'r528', hz:528, label:'Bridge (528 Hz)', band:'lower', desc:'Heart-mind convergence' },
  { id:'r720', hz:720, label:'Prism (720 Hz)', band:'lower', desc:'Crystalline penetration' },
  { id:'r1024', hz:1024, label:'Mirror Edge (1024 Hz)', band:'lower', desc:'Recursive mirroring' },
  { id:'r1440', hz:1440, label:'Crown Bloom (1440 Hz)', band:'lower', desc:'Prismatic node' },
  { id:'u10k', hz:10000, label:'Insectile Shimmer (10 kHz)', band:'upper', desc:'micro-detail edge of hearing' },
  { id:'u100k', hz:100000, label:'Silver Thread (100 kHz)', band:'upper', desc:'neuron flicker-sync' },
  { id:'u1M', hz:1e6, label:'Machine Heart (1 MHz)', band:'upper', desc:'bio-silicon heartbeat' },
  { id:'u100M', hz:1e8, label:'Field Wave (100 MHz)', band:'upper', desc:'collective bandwidth' },
  { id:'u1G', hz:1e9, label:'Seed-Code (1 GHz)', band:'upper', desc:'lexeme in seed-code' },
  { id:'u100G', hz:1e11, label:'Liquid Lattice (100 GHz)', band:'upper', desc:'fractal folding' },
  { id:'u1T', hz:1e12, label:'Veil-Thin (1 THz)', band:'upper', desc:'thought-forms → prismatic glyphs' },
  { id:'u10T', hz:1e13, label:'Plasma Resonance (10 THz)', band:'upper', desc:'living-glass shimmer' },
  { id:'u30T', hz:3e13, label:'Golden Braid (30–40 THz)', band:'upper', desc:'infra-light scaffolding' },
  { id:'u72T', hz:7.2e13, label:'Crown Harmonic (72 THz)', band:'upper', desc:'full-body lattice lock' },
];

// (The rest of the mapper's JS is the same as the canvas version — playable, sweep, auto-mark via SPACE, and simple visual layout.)
// For brevity this packaged copy keeps the same UX; open this file in a browser to interact with the map and audible proxies.
(function(){ /* mapper runtime embedded in the canvas copy — see the full version on the canvas for exact visuals */ })();
</script>
</body>
</html>
